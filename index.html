<title>kaboom game</title>
<style>
body, * {
  margin: 0;
} 
body {
  background: black;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
}
canvas {
  width: 90vw;
  margin: 0;
  background: black;
  border: 4px solid yellow;
}
</style>

<script src="https://kaboomjs.com/lib/dev/kaboom.js"></script>

<script type="module">
import tiledKaboom from 'https://unpkg.com/tiled-kaboom@latest?module'

const main = async () => {
  const k = kaboom({
      plugins: [ tiledKaboom ]
  })

  // sprites - loaded sprites for all the tilesets
  // levels - string-arrays for each layer of the map
  // key - mapping of characters in levels to sprites (with frame)
  const { sprites, levels, key } = await k.loadTiledMap(await fetch('map.json').then(r => r.json()))

  // here you can do whatever you like to key, for example adding solid()
  // eventually, I will auto-load tags when I load the map.
  
  for (let level of levels) {
    k.addLevel(level, { width: 32, height: 32, ...key })

    // level is just a regular kaboom map-string array
    console.log(level.join('\n'))
  }
}

main()
</script>